[{"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\index.js":"1","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\App.js":"2","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\letters\\LetterLanding.js":"3","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\letters\\LetterDetail.js":"4","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\apis\\letter.js":"5","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\items\\ItemList.js":"6","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\items\\ItemDetail.js":"7","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\items\\Item.js":"8","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\Header.js":"9","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\Dashboard.js":"10","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\letters\\LetterForm.js":"11","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\letters\\LetterCreate.js":"12","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\utils.js":"13","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\auth\\Login.js":"14","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\apis\\user.js":"15","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\auth\\Register.js":"16","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\config\\keys.js":"17","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\config\\dev.js":"18","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\config\\prod.js":"19","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\contacts\\ContactLanding.js":"20","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\apis\\contact.js":"21","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\history.js":"22","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\constants.js":"23","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\modals\\SimpleModal.js":"24","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\contexts\\UserContext.js":"25","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\contexts\\ItemContext.js":"26"},{"size":157,"mtime":1610312289729,"results":"27","hashOfConfig":"28"},{"size":4775,"mtime":1610411430378,"results":"29","hashOfConfig":"28"},{"size":4317,"mtime":1610411790171,"results":"30","hashOfConfig":"28"},{"size":1492,"mtime":1610337582461,"results":"31","hashOfConfig":"28"},{"size":167,"mtime":1610330185306,"results":"32","hashOfConfig":"28"},{"size":2538,"mtime":1610408189612,"results":"33","hashOfConfig":"28"},{"size":875,"mtime":1609709802009,"results":"34","hashOfConfig":"28"},{"size":718,"mtime":1610337582459,"results":"35","hashOfConfig":"28"},{"size":1140,"mtime":1610337582458,"results":"36","hashOfConfig":"28"},{"size":3085,"mtime":1610411193509,"results":"37","hashOfConfig":"28"},{"size":2128,"mtime":1610078088568,"results":"38","hashOfConfig":"28"},{"size":2688,"mtime":1610337582460,"results":"39","hashOfConfig":"28"},{"size":1121,"mtime":1610404410114,"results":"40","hashOfConfig":"28"},{"size":1716,"mtime":1610337582459,"results":"41","hashOfConfig":"28"},{"size":260,"mtime":1610330185306,"results":"42","hashOfConfig":"28"},{"size":1485,"mtime":1609802174431,"results":"43","hashOfConfig":"28"},{"size":174,"mtime":1609818436407,"results":"44","hashOfConfig":"28"},{"size":138,"mtime":1609795603073,"results":"45","hashOfConfig":"28"},{"size":113,"mtime":1609795613411,"results":"46","hashOfConfig":"28"},{"size":964,"mtime":1610081872024,"results":"47","hashOfConfig":"28"},{"size":257,"mtime":1610305207870,"results":"48","hashOfConfig":"28"},{"size":87,"mtime":1609561439015,"results":"49","hashOfConfig":"28"},{"size":67,"mtime":1610330185310,"results":"50","hashOfConfig":"28"},{"size":558,"mtime":1610411510088,"results":"51","hashOfConfig":"28"},{"size":108,"mtime":1610337582462,"results":"52","hashOfConfig":"28"},{"size":108,"mtime":1610337582462,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"1k6z1td",{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"56"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"56"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\index.js",[],["111","112"],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\App.js",["113"],"import React, { useEffect, useState } from \"react\";\n\nimport { BrowserRouter, Route, Switch, Link } from \"react-router-dom\";\n\nimport Header from \"./Header\";\nimport Login from \"./auth/Login\";\nimport Dashboard from \"./Dashboard\";\nimport Register from \"./auth/Register\";\nimport LetterDetail from \"./letters/LetterDetail\";\nimport LetterCreate from \"./letters/LetterCreate\";\nimport SimpleModal from \"./modals/SimpleModal\";\n\nimport letterApi from \"../apis/letter\";\nimport ContactLanding from \"./contacts/ContactLanding\";\n\nimport user from \"../apis/user\";\n\nimport UserContext from \"../contexts/UserContext\";\nimport ItemContext from \"../contexts/ItemContext\";\n\nimport { decodeJWT } from \"../utils\";\nimport { initLoginCreds } from \"../constants\";\n\nconst App = (props) => {\n  const [letters, setLetters] = useState([]);\n  const [currUser, setCurrUser] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [dir, setDir] = useState(\"DESC\");\n  const [field, setField] = useState(\"date\");\n  const [cat, setCat] = useState(\"inbox\");\n  const [isLoading, setIsLoading] = useState(true);\n\n  const [loginCreds, setLoginCreds] = useState(initLoginCreds);\n\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    const localToken = decodeJWT(window.localStorage.getItem(\"jwt\"));\n\n    if (!localToken || Date.now() > localToken.exp * 1000) {\n      if (window.location.pathname !== \"/\") setOpen(true);\n    } else {\n      setCurrUser(localToken.user);\n    }\n  }, [isLoggedIn]);\n\n  useEffect(() => {\n    const fetchLetters = async () => {\n      const where = (cat, user) => {\n        switch (cat) {\n          case \"inbox\":\n            return { receiver: user.username };\n          case \"sent\":\n            return { sender: user.username, isDraft: false };\n          case \"drafts\":\n            return { sender: user.username, isDraft: true };\n          default:\n            return { receiver: user.username };\n        }\n      };\n\n      const res = await letterApi.get(\"/letters\", {\n        headers: {\n          Authorization: `Bearer ${window.localStorage.getItem(\"jwt\")}`,\n        },\n        params: {\n          q: JSON.stringify({\n            where: where(cat, currUser),\n            order: `${field} ${dir}`,\n          }),\n        },\n      });\n      setLetters(res.data);\n    };\n\n    if (currUser) {\n      fetchLetters();\n    } else {\n      setLetters([]);\n    }\n  }, [currUser, dir, field, cat]);\n\n  const login = (e, vals) => {\n    if (e) e.preventDefault();\n\n    (async () => {\n      if (vals !== initLoginCreds) {\n        const res = await user.get(\"/auth\", { params: { user: vals } });\n\n        if (res.status === 200) {\n          const { token } = res.data;\n          window.localStorage.setItem(\"jwt\", token);\n          const { user } = decodeJWT(token);\n          setCurrUser(user);\n        }\n      }\n    })();\n  };\n\n  const Dash = (props) => <Dashboard {...props} />;\n  const Detail = (props) => <LetterDetail {...props} />;\n\n  const Create = (props) => <LetterCreate currUser={currUser} {...props} />;\n\n  const Contact = (props) => <ContactLanding title='Contacts' {...props} />;\n\n  const LandingLogin = (props) => (\n    <Login\n      setLoginCreds={setLoginCreds}\n      loginCreds={loginCreds}\n      handleSubmit={login}\n      redirect='/dashboard'\n      {...props}\n    />\n  );\n\n  const authButton = (\n    <Link to='/' className='ui button' onClick={() => setOpen(false)}>\n      Ok\n    </Link>\n  );\n\n  return (\n    <div className='ui container'>\n      <BrowserRouter>\n        <UserContext.Provider value={{ currUser, setCurrUser, setIsLoggedIn }}>\n          <SimpleModal\n            open={open}\n            setOpen={setOpen}\n            title='Your session has expired'\n            content='Your session has ended. In order to continue you must be\n        re-authenticated'\n            actions={[authButton]}\n          />\n          <Switch>\n            <Route exact path='/' component={LandingLogin} />\n            <>\n              <Header />\n              <ItemContext.Provider\n                value={{\n                  letters,\n                  dir,\n                  setDir,\n                  field,\n                  setField,\n                  cat,\n                  setCat,\n                  isLoading,\n                }}>\n                <Route path='/dashboard' exact component={Dash} />\n                <Route path='/contacts' exact component={Contact} />\n                <Route path='/letters/:_id' exact component={Detail} />\n              </ItemContext.Provider>\n              <Route path='/auth/register' exact component={Register} />\n              <Route path='/drafts/new' exact component={Create} />\n            </>\n          </Switch>\n        </UserContext.Provider>\n      </BrowserRouter>\n    </div>\n  );\n};\n\nexport default App;\n","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\letters\\LetterLanding.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\letters\\LetterDetail.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\apis\\letter.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\items\\ItemList.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\items\\ItemDetail.js",[],["114","115"],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\items\\Item.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\Header.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\Dashboard.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\letters\\LetterForm.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\letters\\LetterCreate.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\utils.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\auth\\Login.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\apis\\user.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\auth\\Register.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\config\\keys.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\config\\dev.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\config\\prod.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\contacts\\ContactLanding.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\apis\\contact.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\history.js",[],["116","117"],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\constants.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\components\\modals\\SimpleModal.js",["118"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Modal } from \"semantic-ui-react\";\n\nimport _ from \"lodash\";\n\nconst SimpleModal = ({ open, setOpen, title, content, actions }) => {\n  const renderActions = () => {\n    return _.map(actions, (action) => {\n      return action;\n    });\n  };\n\n  return (\n    <Modal open={open} dimmer={open}>\n      <Modal.Header>{title}</Modal.Header>\n      <Modal.Content>{content}</Modal.Content>\n      <Modal.Actions>{renderActions()}</Modal.Actions>\n    </Modal>\n  );\n};\n\nexport default SimpleModal;\n","C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\contexts\\UserContext.js",[],"C:\\Users\\jacob\\Documents\\Projects\\Priyanka\\merry-christmas\\src\\contexts\\ItemContext.js",[],{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","severity":1,"message":"124","line":31,"column":21,"nodeType":"125","messageId":"126","endLine":31,"endColumn":33},{"ruleId":"119","replacedBy":"127"},{"ruleId":"121","replacedBy":"128"},{"ruleId":"119","replacedBy":"129"},{"ruleId":"121","replacedBy":"130"},{"ruleId":"123","severity":1,"message":"131","line":2,"column":10,"nodeType":"125","messageId":"126","endLine":2,"endColumn":14},"no-native-reassign",["132"],"no-negated-in-lhs",["133"],"no-unused-vars","'setIsLoading' is assigned a value but never used.","Identifier","unusedVar",["132"],["133"],["132"],["133"],"'Link' is defined but never used.","no-global-assign","no-unsafe-negation"]