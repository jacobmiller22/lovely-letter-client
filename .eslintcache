[{"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\index.js":"1","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\utils.js":"2","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\contacts\\ContactLanding.js":"3","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\modals\\SimpleModal.js":"4","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\contexts\\ItemContext.js":"5","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\apis\\letter.js":"6","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\contexts\\UserContext.js":"7","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\Register.js":"8","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\LandingLogin.js":"9","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\LandingReset.js":"10","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\profile\\UserProfile.js":"11","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\constants.js":"12","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\apis\\contact.js":"13","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterForm.js":"14","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\Reset.js":"15","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\apis\\user.js":"16","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\Login.js":"17","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\items\\ItemList.js":"18","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\config\\keys.js":"19","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\items\\Item.js":"20","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\config\\dev.js":"21","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\App.js":"22","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\Header.js":"23","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\Dashboard.js":"24","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\ComposePanel.js":"25","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterPanel.js":"26","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\TabMenu.js":"27","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\LoginPanel.js":"28","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\ComposeView.js":"29","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\Page.js":"30","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\Compose.js":"31","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\LoadableButton.js":"32","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\LettersListView.js":"33","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\ContactsListView.js":"34","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterItemLarge.js":"35","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\ModalBuilder.js":"36","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterListControl.js":"37","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterItemSmall.js":"38","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\DetailView.js":"39","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterDetail.js":"40","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\ResetPanel.js":"41","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\AuthView.js":"42","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\RegisterPanel.js":"43"},{"size":229,"mtime":1615060131198,"results":"44","hashOfConfig":"45"},{"size":1441,"mtime":1615491151793,"results":"46","hashOfConfig":"45"},{"size":917,"mtime":1614019840284,"results":"47","hashOfConfig":"45"},{"size":518,"mtime":1614019840288,"results":"48","hashOfConfig":"45"},{"size":108,"mtime":1614019840292,"results":"49","hashOfConfig":"45"},{"size":1698,"mtime":1615412968087,"results":"50","hashOfConfig":"45"},{"size":108,"mtime":1614019840293,"results":"51","hashOfConfig":"45"},{"size":3165,"mtime":1615520765965,"results":"52","hashOfConfig":"45"},{"size":1855,"mtime":1614809307520,"results":"53","hashOfConfig":"45"},{"size":1548,"mtime":1614019840290,"results":"54","hashOfConfig":"45"},{"size":1152,"mtime":1614019840291,"results":"55","hashOfConfig":"45"},{"size":420,"mtime":1615519131717,"results":"56","hashOfConfig":"45"},{"size":257,"mtime":1614019840281,"results":"57","hashOfConfig":"45"},{"size":2000,"mtime":1615149006819,"results":"58","hashOfConfig":"45"},{"size":3328,"mtime":1615520784980,"results":"59","hashOfConfig":"45"},{"size":849,"mtime":1615521156704,"results":"60","hashOfConfig":"45"},{"size":2794,"mtime":1615521606475,"results":"61","hashOfConfig":"45"},{"size":1379,"mtime":1615261954066,"results":"62","hashOfConfig":"45"},{"size":165,"mtime":1614019840292,"results":"63","hashOfConfig":"45"},{"size":939,"mtime":1615261467087,"results":"64","hashOfConfig":"45"},{"size":132,"mtime":1614019840291,"results":"65","hashOfConfig":"45"},{"size":4188,"mtime":1615522174141,"results":"66","hashOfConfig":"45"},{"size":1485,"mtime":1615260126861,"results":"67","hashOfConfig":"45"},{"size":1201,"mtime":1615261657602,"results":"68","hashOfConfig":"45"},{"size":1642,"mtime":1614802168174,"results":"69","hashOfConfig":"45"},{"size":2346,"mtime":1615260520343,"results":"70","hashOfConfig":"45"},{"size":566,"mtime":1614802806814,"results":"71","hashOfConfig":"45"},{"size":2570,"mtime":1615494615263,"results":"72","hashOfConfig":"45"},{"size":805,"mtime":1615150915995,"results":"73","hashOfConfig":"45"},{"size":504,"mtime":1615264446209,"results":"74","hashOfConfig":"45"},{"size":2041,"mtime":1615262334210,"results":"75","hashOfConfig":"45"},{"size":864,"mtime":1614978631752,"results":"76","hashOfConfig":"45"},{"size":476,"mtime":1615152972167,"results":"77","hashOfConfig":"45"},{"size":101,"mtime":1614983254437,"results":"78","hashOfConfig":"45"},{"size":2154,"mtime":1615264199712,"results":"79","hashOfConfig":"45"},{"size":832,"mtime":1615262319196,"results":"80","hashOfConfig":"45"},{"size":1224,"mtime":1615162959100,"results":"81","hashOfConfig":"45"},{"size":1340,"mtime":1615264192424,"results":"82","hashOfConfig":"45"},{"size":392,"mtime":1615267343573,"results":"83","hashOfConfig":"45"},{"size":1194,"mtime":1615267033579,"results":"84","hashOfConfig":"45"},{"size":4548,"mtime":1615493088769,"results":"85","hashOfConfig":"45"},{"size":305,"mtime":1615415589728,"results":"86","hashOfConfig":"45"},{"size":2390,"mtime":1615521386939,"results":"87","hashOfConfig":"45"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},"42whyx",{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"90"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"95"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"90"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"90"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"90"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"90"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"149","usedDeprecatedRules":"90"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"90"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"169","usedDeprecatedRules":"90"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"174","usedDeprecatedRules":"90"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"181","usedDeprecatedRules":"90"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"184","usedDeprecatedRules":"90"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"189","usedDeprecatedRules":"90"},"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\index.js",[],["190","191"],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\utils.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\contacts\\ContactLanding.js",[],["192","193"],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\modals\\SimpleModal.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\contexts\\ItemContext.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\apis\\letter.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\contexts\\UserContext.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\Register.js",["194"],"import React, { useState, useContext } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport UserContext from \"../../../contexts/UserContext\";\nimport { initRegisterCreds } from \"../../../constants\";\nimport map from \"lodash/map\";\n\nimport { Form } from \"react-bootstrap\";\nimport LoadableButton from \"../../LoadableButton\";\n\nconst Register = ({ handleSubmit }) => {\n  const [vals, setVals] = useState(initRegisterCreds);\n  const [state, setState] = useState({\n    isLoading: false,\n    error: false,\n    success: false,\n    msg: \"\",\n  });\n\n  const User = useContext(UserContext);\n  let history = useHistory();\n\n  const onSubmit = (e) => {\n    handleSubmit(e, vals, setState);\n\n    if (state.type !== \"error\" || state.type !== \"isLoading\") {\n      setVals(initRegisterCreds);\n    }\n  };\n\n  const handleChange = ({ target: { name, value } }) => {\n    const tempVals = { ...vals, [name]: value };\n    if (tempVals.password !== tempVals.password_2) {\n      setState({\n        isLoading: false,\n        error: true,\n        success: false,\n        msg: \"Passwords do not match.\",\n      });\n    } else {\n      setState({\n        isLoading: false,\n        error: false,\n        success: false,\n        msg: \"\",\n      });\n    }\n    setVals(tempVals);\n  };\n\n  if (User.currUser) {\n    history.push(\"/dashboard\");\n  }\n\n  const renderMsg = (msg) => {\n    const stateTypes = [\"error\", \"success\"];\n    return map(stateTypes, (type) => {\n      if (!state[type]) {\n        return null;\n      }\n\n      switch (type) {\n        case \"error\":\n          return (\n            <div key=\"error\" className=\"error\">\n              <strong>Error</strong>\n              <br />\n              {msg || \"\"}\n            </div>\n          );\n        case \"success\":\n          return (\n            <div key=\"success\" className=\"success\">\n              <strong>Success</strong>\n              <br />\n              {msg || \"\"}\n            </div>\n          );\n        default:\n          return null;\n      }\n    });\n  };\n\n  const loginBtnCfg = {\n    text: \"Register\",\n    className: \"login-btn\",\n    type: \"submit\",\n  };\n\n  return (\n    <Form onSubmit={onSubmit}>\n      <Form.Group>\n        <Form.Control\n          name=\"username\"\n          placeholder=\"Username\"\n          value={vals.username}\n          onChange={handleChange}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          name=\"email\"\n          placeholder=\"Email\"\n          value={vals.email}\n          onChange={handleChange}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          value={vals.password}\n          onChange={handleChange}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          name=\"password_2\"\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n          value={vals.password_2}\n          onChange={handleChange}\n        />\n      </Form.Group>\n\n      <div id=\"form-msg-board\">{renderMsg(state.msg)}</div>\n      <LoadableButton isLoading={state.isLoading} btnCfg={loginBtnCfg} />\n    </Form>\n  );\n};\n\nexport default Register;\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\LandingLogin.js",["195","196","197"],"import React, { useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport UserContext from \"../../../contexts/UserContext\";\n\nimport Login from \"./Login\";\n\nimport user from \"../../../apis/user\";\n\nimport { initLoginCreds } from \"../../../constants\";\nimport { decodeJWT } from \"../../../utils\";\n\nimport \"./LandingLogin.css\";\n\nconst LandingLogin = () => {\n  // const [showError, setShowError] = useState(null);\n\n  const User = useContext(UserContext);\n\n  let history = useHistory();\n\n  const login = (e, vals, setState) => {\n    if (e) e.preventDefault();\n\n    (async () => {\n      if (vals !== initLoginCreds) {\n        const res = await user\n          .get(\"/auth\", { params: { user: vals } })\n          .catch((err) => {\n            console.log(\"error\", err.response);\n            const code = err.response.status;\n\n            switch (code) {\n              case 401:\n                setState({ type: \"error\", msg: \"Invalid credentials\" });\n                return;\n              default:\n                return;\n            }\n          });\n        if (res) {\n          const { token } = res.data;\n          window.localStorage.setItem(\"jwt\", token);\n          const { user } = decodeJWT(token);\n          User.setCurrUser(user);\n          history.push(\"/dashboard\");\n\n          if (res.status === 200)\n            setState({ type: \"success\", msg: \"Login successful\" });\n        }\n      }\n    })();\n  };\n\n  const renderContent = () => {\n    // if (showError) {\n    //   return <div>THERE HAS BEEN AN ERROR</div>;\n    // }\n    return (\n      <>\n        <span className=\"left-side-content\">\n          <h1 className=\"title ui header\">Lovely Letters</h1>\n        </span>\n        <span className=\"right-side-content\"></span>\n      </>\n    );\n  };\n\n  return <div id=\"landing\">{renderContent()}</div>;\n};\n\nexport default LandingLogin;\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\LandingReset.js",[],["198","199"],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\profile\\UserProfile.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\constants.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\apis\\contact.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterForm.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\Reset.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\apis\\user.js",["200"],"import axios from \"axios\";\nimport keys from \"../config/keys\";\n\nconst user = axios.create({\n  baseURL: keys.ll_server,\n  headers: { ...keys.additional_headers },\n});\n\nconst getAuthHeader = () => {\n  return {\n    headers: {\n      Authorization: `Bearer ${window.localStorage.getItem(\"jwt\")}`,\n    },\n  };\n};\n\nexport const sendUserResetLink = (params) => {\n  const { username_email } = params;\n\n  return user.put(\"/auth\", {}, { params: { username_email } });\n};\n\nexport const resetUser = (params) => {\n  const { tok, new_password } = params;\n\n  return user.patch(\"/auth\", {}, { params: { tok, new_password } });\n};\n\nexport const loginUser = (params) => {\n  return user.get(\"/auth\", { params });\n};\n\nexport const registerUser = (body) => {\n  const { username, email, password } = body;\n  return user.post(\"/auth\", { username, email, password }, {});\n};\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\Login.js",["201"],"import React, { useState, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport UserContext from \"../../../contexts/UserContext\";\nimport map from \"lodash/map\";\nimport { initLoginCreds } from \"../../../constants\";\n\nimport { Form, Button } from \"react-bootstrap\";\nimport LoadableButton from \"../../LoadableButton\";\n\nimport \"./Login.css\";\n\nconst Login = ({ handleSubmit }) => {\n  const [vals, setVals] = useState(initLoginCreds);\n  const [state, setState] = useState({\n    isLoading: false,\n    error: false,\n    success: false,\n    msg: \"\",\n  });\n  const [remember, setRemember] = useState(\n    window.localStorage.getItem(\"remember\") !== undefined\n  );\n\n  const User = useContext(UserContext);\n  let history = useHistory();\n\n  const onSubmit = (e) => {\n    handleSubmit(e, vals, setState);\n\n    if (state.type !== \"error\") {\n      setVals(initLoginCreds);\n    }\n  };\n\n  const handleChange = ({ target: { name, value } }) => {\n    setVals({ ...vals, [name]: value });\n  };\n\n  if (User.currUser) {\n    history.push(\"/dashboard\");\n  }\n\n  const renderMsg = (msg) => {\n    const stateTypes = [\"error\", \"success\"];\n    return map(stateTypes, (type) => {\n      if (!state[type]) {\n        return null;\n      }\n\n      switch (type) {\n        case \"error\":\n          return (\n            <div key=\"error\" className=\"error\">\n              <strong>Error</strong>\n              <br />\n              {msg || \"\"}\n            </div>\n          );\n        case \"success\":\n          return (\n            <div key=\"success\" className=\"success\">\n              <strong>Success</strong>\n              <br />\n              {msg || \"\"}\n            </div>\n          );\n        default:\n          return null;\n      }\n    });\n  };\n\n  const loginBtnCfg = { text: \"Login\", className: \"login-btn\", type: \"submit\" };\n\n  return (\n    <Form onSubmit={onSubmit}>\n      <Form.Group>\n        <Form.Control\n          name=\"username\"\n          placeholder=\"Username\"\n          value={vals.username}\n          onChange={handleChange}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          value={vals.password}\n          onChange={handleChange}\n        />\n      </Form.Group>\n\n      <Form.Group inline=\"true\">\n        <Form.Check\n          value={remember}\n          onClick={() => setRemember(!remember)}\n          label=\"Remember me\"\n          inline=\"true\"\n        />\n        <Link to={{ pathname: \"/auth/reset\" }} className=\"pull-right text\">\n          Forgot password?\n        </Link>\n      </Form.Group>\n\n      <div id=\"form-msg-board\">{renderMsg(state.msg)}</div>\n      <LoadableButton isLoading={state.isLoading} btnCfg={loginBtnCfg} />\n    </Form>\n  );\n};\n\nexport default Login;\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\items\\ItemList.js",["202"],"import { useState, useEffect } from \"react\";\nimport _ from \"lodash\";\n\nimport { Container, Row, Spinner } from \"react-bootstrap\";\n\nimport Item from \"./Item\";\n\nimport \"./ItemList.css\";\n\nconst ItemList = ({\n  config: { items, CustomItem, tab, handleListUpdate, title, isLoading },\n}) => {\n  const [showSpinner, setShowSpinner] = useState(false);\n\n  useEffect(() => {\n    if (isLoading) {\n      setTimeout(() => {\n        setShowSpinner(true);\n      }, 2000);\n    } else {\n      setShowSpinner(false);\n    }\n  }, [showSpinner]);\n\n  const renderItems = (onItemSelect) => {\n    if (isLoading && showSpinner) {\n      return <Spinner animation=\"border\" />;\n    }\n    if (isLoading || !items) {\n      return null;\n    }\n    if (!items.length) {\n      return <div>No items...</div>;\n    }\n\n    if (CustomItem) {\n      return _.map(items, (item) => {\n        const itemCfg = {\n          item,\n          onItemSelect,\n          tab,\n          handleListUpdate,\n        };\n        return <CustomItem key={item._id} config={itemCfg} />;\n      });\n    }\n    return _.map(items, (item) => (\n      <Item item={item} onItemSelect={onItemSelect} key={item._id} tab={tab} />\n    ));\n  };\n\n  return (\n    <Container>\n      <Row>\n        <h3>{title}</h3>\n      </Row>\n      <Row>\n        <div className=\"item-list\">{renderItems()}</div>\n      </Row>\n    </Container>\n  );\n};\n\nexport default ItemList;\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\config\\keys.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\items\\Item.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\config\\dev.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\App.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\Header.js",["203"],"import { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../contexts/UserContext\";\r\n\r\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\r\n\r\nimport \"./Header.css\";\r\n\r\nconst Header = () => {\r\n  const User = useContext(UserContext);\r\n  let history = useHistory();\r\n\r\n  const renderAuth = () => {\r\n    const signOut = () => {\r\n      window.localStorage.removeItem(\"jwt\");\r\n      User.setCurrUser(null);\r\n      User.setIsLoggedIn(false);\r\n      history.push(\"/\");\r\n    };\r\n\r\n    if (User.currUser) {\r\n      return (\r\n        <span className=\"nav-link\" onClick={() => signOut()}>\r\n          Logout\r\n        </span>\r\n      );\r\n    } else {\r\n      return (\r\n        <Link to={{ pathname: \"/\" }}>\r\n          <Button>Login</Button>\r\n        </Link>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Navbar sticky=\"top\" id=\"nav\" className=\"nav\">\r\n      <Navbar.Brand>\r\n        <Link to={{ pathname: \"/dashboard\" }}>LovelyLetters</Link>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n      <Navbar.Collapse>\r\n        <Nav className=\"mr-auto\">\r\n          <Link className=\"nav-link\" to={{ pathname: \"/letters\" }}>\r\n            Letters\r\n          </Link>\r\n          <Link className=\"nav-link\" to={{ pathname: \"/contacts\" }}>\r\n            Contacts\r\n          </Link>\r\n        </Nav>\r\n        {renderAuth()}\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\Dashboard.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\ComposePanel.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterPanel.js",["204","205","206","207","208","209"],"import React, { useState, useContext, useEffect, cloneElement } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ItemContext from \"../../contexts/ItemContext\";\r\nimport UserContext from \"../../contexts/UserContext\";\r\nimport map from \"lodash/map\";\r\nimport { getLetters } from \"../../apis/letter\";\r\n\r\nimport ItemList from \"../items/ItemList\";\r\n\r\nimport TabMenu from \"../TabMenu\";\r\nimport { Row } from \"react-bootstrap\";\r\n\r\nconst LetterPanel = ({ Item, children }) => {\r\n  const [tab, setTab] = useState(\"inbox\");\r\n\r\n  const [activeField, setActiveField] = useState({\r\n    key: \"dateSent\",\r\n    text: \"Date\",\r\n  });\r\n\r\n  const [firstRender, setFirstRender] = useState(true);\r\n  const [dir, setDir] = useState(\"DESC\");\r\n\r\n  const [listCfg, setListCfg] = useState({\r\n    title: \"Letters\",\r\n    isLoading: true,\r\n    dir,\r\n    CustomItem: Item,\r\n    items: null,\r\n  });\r\n\r\n  const { currUser } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const params = { tab, activeField, dir };\r\n      setListCfg({ ...listCfg, isLoading: true });\r\n      const res = await getLetters(params, currUser);\r\n      if (res !== undefined) {\r\n        setListCfg({ ...listCfg, items: res.data, isLoading: false });\r\n      }\r\n    })();\r\n  }, [tab, dir, currUser]);\r\n\r\n  const handleListUpdate = (_id) => {\r\n    setListCfg({\r\n      ...listCfg,\r\n      items: listCfg.items.filter((item) => item._id !== _id),\r\n    });\r\n  };\r\n  const renderTabs = () => {\r\n    const tabs = [\r\n      { title: \"Inbox\", key: \"inbox\" },\r\n      { title: \"Sent\", key: \"sent\" },\r\n      { title: \"Drafts\", key: \"drafts\" },\r\n    ];\r\n    return (\r\n      <Row className=\"tab-menu-container\">\r\n        <TabMenu tabs={tabs} activeKey={tab} onSelect={(k) => setTab(k)} />\r\n      </Row>\r\n    );\r\n  };\r\n\r\n  const renderChildren = () => {\r\n    const fields = [\r\n      { key: \"title\", text: \"Title\" },\r\n      { key: \"dateSent\", text: \"Date\" },\r\n    ];\r\n\r\n    if (!children) {\r\n      return null;\r\n    }\r\n\r\n    return cloneElement(children, {\r\n      active: activeField,\r\n      setActive: setActiveField,\r\n      fields,\r\n      dir,\r\n      setDir,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {renderTabs()}\r\n      {renderChildren()}\r\n      <ItemList config={{ ...listCfg, tab, activeField, handleListUpdate }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LetterPanel;\r\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\TabMenu.js",["210"],"import { useState } from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nimport { Col } from \"react-bootstrap\";\r\n\r\nimport \"./TabMenu.css\";\r\n\r\nconst TabMenu = ({ tabs, activeKey, onSelect }) => {\r\n  return _.map(tabs, (tab) => {\r\n    const isActive = tab.key === activeKey ? \"active\" : \"\";\r\n    return (\r\n      <Col\r\n        key={tab.key}\r\n        className={`tab-menu-tab ${isActive}`}\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          onSelect(tab.key);\r\n        }}\r\n      >\r\n        {tab.title}\r\n      </Col>\r\n    );\r\n  });\r\n};\r\n\r\nexport default TabMenu;\r\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\LoginPanel.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\ComposeView.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\Page.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\Compose.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\LoadableButton.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\LettersListView.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\ContactsListView.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterItemLarge.js",["211"],"import { Link } from \"react-router-dom\";\r\n\r\nimport { deleteLetter } from \"../../apis/letter\";\r\n\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport { XCircleFill } from \"react-bootstrap-icons\";\r\n\r\nimport \"./LetterItemLarge.css\";\r\n\r\nconst LetterItemLarge = ({\r\n  config: { item, onItemSelect, tab, handleListUpdate },\r\n}) => {\r\n  const onItemClick = () => {\r\n    if (onItemSelect) {\r\n      onItemSelect(item);\r\n    }\r\n    return;\r\n  };\r\n\r\n  const handleDelete = (e) => {\r\n    e.preventDefault();\r\n    const params = {\r\n      _id: item._id,\r\n    };\r\n    console.log(params);\r\n    (async () => {\r\n      const res = await deleteLetter(params);\r\n      handleListUpdate(item._id);\r\n    })();\r\n  };\r\n\r\n  const renderAddress = () => {\r\n    var address = null;\r\n    console.log(tab);\r\n    switch (tab) {\r\n      case \"inbox\":\r\n        address = item._sender.username;\r\n        break;\r\n      case \"sent\":\r\n        address = item._receiver.username;\r\n        break;\r\n      case \"drafts\":\r\n        address = item._receiver.username;\r\n        break;\r\n      default:\r\n        return null;\r\n    }\r\n\r\n    return <div className=\"letter-address\">{address}</div>;\r\n  };\r\n\r\n  return (\r\n    <Link\r\n      key={item.id}\r\n      className=\"item\"\r\n      to={{ pathname: `/letters/${item._id}` }}\r\n      onClick={() => onItemClick()}\r\n    >\r\n      <Card>\r\n        <Row className=\"align-items-center\">\r\n          <Col sm={11}>\r\n            <Card.Body className=\"body\">\r\n              <Card.Title className=\"inline\">{item.title}</Card.Title>\r\n              <Card.Subtitle className=\"pull-right inline subtitle\">\r\n                {new Date(item.dateSent).toLocaleDateString()}\r\n              </Card.Subtitle>\r\n\r\n              <Card.Footer>{renderAddress()}</Card.Footer>\r\n            </Card.Body>\r\n          </Col>\r\n          <Col className=\"hide\" sm={1}>\r\n            <XCircleFill\r\n              className=\"delete-btn\"\r\n              size={24}\r\n              onClick={handleDelete}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default LetterItemLarge;\r\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\ModalBuilder.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterListControl.js",["212"],"import map from \"lodash/map\";\r\n\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { ArrowUpCircleFill, ArrowDownCircleFill } from \"react-bootstrap-icons\";\r\n\r\nimport \"./LetterListControl.css\";\r\n\r\nconst LetterListControl = ({ fields, active, setActive, dir, setDir }) => {\r\n  const renderDropdown = () => {\r\n    const renderFields = () => {\r\n      return map(fields, (field) => (\r\n        <Dropdown.Item key={field.key} onSelect={() => setActive(field)}>\r\n          {field.text}\r\n        </Dropdown.Item>\r\n      ));\r\n    };\r\n\r\n    return (\r\n      <Dropdown className=\"sort-field\">\r\n        <Dropdown.Toggle>{active.text}</Dropdown.Toggle>\r\n        <Dropdown.Menu>{renderFields()}</Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  };\r\n\r\n  const renderToggle = () => {\r\n    const onClick = () => setDir(dir === \"ASC\" ? \"DESC\" : \"ASC\");\r\n\r\n    return dir === \"ASC\" ? (\r\n      <ArrowDownCircleFill onClick={onClick} className=\"arrow\" size={40} />\r\n    ) : (\r\n      <ArrowUpCircleFill onClick={onClick} className=\"arrow\" size={40} />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {renderDropdown()}\r\n      {renderToggle()}\r\n    </div>\r\n  );\r\n};\r\nexport default LetterListControl;\r\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterItemSmall.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\DetailView.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\letters\\LetterDetail.js",["213"],"import { getLetter } from \"../../apis/letter\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport { Container, Row, Card } from \"react-bootstrap\";\r\n\r\nimport \"./LetterDetail.css\";\r\n\r\nconst LetterDetail = ({ _id }) => {\r\n  const [letter, setLetter] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const params = { _id };\r\n\r\n    (async () => {\r\n      const res = await getLetter(params);\r\n      if (res.status === 200) {\r\n        setLetter({ ...res.data });\r\n      } else {\r\n        setLetter({});\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  if (!letter) {\r\n    return null;\r\n  }\r\n\r\n  if (!letter._id) {\r\n    return <p>Letter does not exist</p>;\r\n  }\r\n\r\n  console.log(letter);\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Card>\r\n          <Card.Body>\r\n            <Card.Title>\r\n              <h2>{letter.title}</h2>\r\n              <Card.Subtitle>{letter._sender.username}</Card.Subtitle>\r\n            </Card.Title>\r\n            <Card.Text>{letter.content}</Card.Text>\r\n          </Card.Body>\r\n        </Card>\r\n      </Row>\r\n      <h1 className=\"ui header\">\r\n        <div className=\"ui sub header\"></div>\r\n      </h1>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LetterDetail;\r\n\r\n/// #1E70BF\r\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\ResetPanel.js",["214","215","216"],"import { useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../../../contexts/UserContext\";\r\n\r\nimport { sendUserResetLink, resetUser } from \"../../../apis/user\";\r\nimport { initResetCreds, resetTokExp } from \"../../../constants\";\r\nimport { decodeJWT, getCWDLeg } from \"../../../utils\";\r\n\r\nimport Reset from \"./Reset\";\r\nimport ModalBuilder from \"../../ModalBuilder\";\r\n\r\nimport \"./LoginPanel.css\";\r\n\r\nconst ResetPanel = ({ initStage }) => {\r\n  const [stage, setStage] = useState(initStage || 1);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (stage === 2) {\r\n      // Decode Url Token\r\n      console.log(getCWDLeg(window.location.pathname));\r\n      const decodedTok = decodeJWT(getCWDLeg(window.location.pathname));\r\n      console.log(\"tok\", decodedTok);\r\n      if (decodedTok === null) {\r\n        setOpen(true);\r\n      }\r\n    }\r\n  }, [stage]);\r\n\r\n  // const User = useContext(UserContext);\r\n\r\n  // let history = useHistory();\r\n\r\n  const reset = (e, vals, setState) => {\r\n    if (e) e.preventDefault();\r\n\r\n    if (stage === 2) {\r\n      // Validate password reset\r\n\r\n      if (vals.new_password !== vals.new_password_2) {\r\n        setState({\r\n          error: true,\r\n          isLoading: false,\r\n          success: false,\r\n          msg: \"The provided passwords do not match.\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      // Decode url token\r\n\r\n      (async () => {\r\n        const tok = getCWDLeg(window.location.pathname);\r\n        const params = { tok, new_password: vals.new_password };\r\n\r\n        setState({ error: false, isLoading: true, success: false });\r\n        try {\r\n          var res = await resetUser(params);\r\n        } catch (err) {\r\n          console.log(\"ERROR!\");\r\n          return;\r\n        }\r\n        if (res.status === 200) {\r\n          setState({\r\n            error: false,\r\n            isLoading: false,\r\n            success: true,\r\n            msg: \"Your password has been successfully reset\",\r\n          });\r\n        }\r\n      })();\r\n      return;\r\n    }\r\n\r\n    (async () => {\r\n      const errCallback = (code) => {\r\n        switch (+code) {\r\n          case 401:\r\n            setState({\r\n              error: true,\r\n              isLoading: false,\r\n              success: false,\r\n              msg: \"Username or password incorrect.\",\r\n            });\r\n            break;\r\n          case 500:\r\n            setState({\r\n              error: true,\r\n              isLoading: false,\r\n              success: false,\r\n              msg: \"Something went wrong...\",\r\n            });\r\n            break;\r\n          default:\r\n            setState({\r\n              error: true,\r\n              isLoading: false,\r\n              success: false,\r\n              msg: \"Error\",\r\n            });\r\n        }\r\n      };\r\n\r\n      const body = { username_email: vals.username_email };\r\n      setState({ error: false, isLoading: true, success: false });\r\n\r\n      try {\r\n        var res = await sendUserResetLink(body);\r\n      } catch (err) {\r\n        errCallback(501);\r\n        return;\r\n      }\r\n\r\n      if (res.status === 202) {\r\n        setState({\r\n          error: false,\r\n          isLoading: false,\r\n          success: true,\r\n          msg:\r\n            \"An email has been sent to you including a link to reset your password\",\r\n        });\r\n      } else {\r\n        errCallback(res ? res.status : 500);\r\n      }\r\n    })();\r\n    return;\r\n  };\r\n\r\n  const exitButton = (\r\n    <Link\r\n      key=\"ok\"\r\n      to={{ pathname: \"/auth/reset\" }}\r\n      className=\"ui button\"\r\n      onClick={() => setOpen(false)}\r\n    >\r\n      Ok\r\n    </Link>\r\n  );\r\n\r\n  const modalCfg = {\r\n    title: \"Your reset token has expired\",\r\n    open,\r\n    handleClose: () => setOpen(false),\r\n    body: `Your reset token has expired. In order to reset your password you must enter your email in again at the password reset page. Remember, expiration tokens last for ${resetTokExp}`,\r\n    actions: [exitButton],\r\n  };\r\n\r\n  return (\r\n    <div className=\"devise\">\r\n      <ModalBuilder config={modalCfg} />\r\n      <h1 className=\"ui centered header\">Forgot Password</h1>\r\n      <div className=\"register-remarks description\">\r\n        Made it here by accident?{\" \"}\r\n        <Link to={{ pathname: \"\" }} className=\"heavy\">\r\n          Login\r\n        </Link>\r\n      </div>\r\n      <Reset\r\n        handleSubmit={reset}\r\n        redirect=\"/dashboard\"\r\n        init={initResetCreds}\r\n        stage={stage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPanel;\r\n","C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\Views\\AuthView.js",[],"C:\\Users\\jacob\\Documents\\Projects\\lovely-letter-client\\src\\components\\user\\auth\\RegisterPanel.js",["217","218","219","220"],"import { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../../../contexts/UserContext\";\r\n\r\nimport { registerUser } from \"../../../apis/user\";\r\nimport { initRegisterCreds } from \"../../../constants\";\r\nimport { decodeJWT } from \"../../../utils\";\r\n\r\nimport Register from \"./Register\";\r\n\r\nimport \"./LoginPanel.css\";\r\n\r\nconst RegisterPanel = () => {\r\n  const User = useContext(UserContext);\r\n\r\n  let history = useHistory();\r\n\r\n  const register = (e, vals, setState) => {\r\n    if (e) e.preventDefault();\r\n\r\n    (async () => {\r\n      if (vals === initRegisterCreds) {\r\n        return;\r\n      }\r\n      setState({ error: false, isLoading: true, success: false });\r\n\r\n      const params = { user: vals };\r\n\r\n      const errCallback = (code) => {\r\n        switch (+code) {\r\n          case 422:\r\n            setState({\r\n              error: true,\r\n              isLoading: false,\r\n              success: false,\r\n              msg: \"Username or Email is not available\",\r\n            });\r\n            break;\r\n          case 500:\r\n            setState({\r\n              error: true,\r\n              isLoading: false,\r\n              success: false,\r\n              msg: \"Something went wrong...\",\r\n            });\r\n            break;\r\n          default:\r\n            setState({\r\n              error: true,\r\n              isLoading: false,\r\n              success: false,\r\n              msg: \"Error\",\r\n            });\r\n        }\r\n      };\r\n\r\n      try {\r\n        const params = { ...vals };\r\n        var res = await registerUser(params);\r\n      } catch (err) {\r\n        errCallback(err ? err.response.status : 500);\r\n        return;\r\n      }\r\n\r\n      if (res && res.status === 200) {\r\n        setState({\r\n          error: false,\r\n          isLoading: false,\r\n          success: true,\r\n          msg:\r\n            \"Thank you for registering. You will be redirected to the login screen promptly.\",\r\n        });\r\n        setTimeout(() => history.push(\"/\"), 3000);\r\n      } else {\r\n        errCallback(res ? res.status : 500);\r\n      }\r\n    })();\r\n  };\r\n\r\n  return (\r\n    <div className=\"devise\">\r\n      <h1 className=\"ui centered header\">Lovely Letters</h1>\r\n      <div className=\"register-remarks description\">Register here!</div>\r\n      <Register handleSubmit={register} redirect=\"/dashboard\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterPanel;\r\n",{"ruleId":"221","replacedBy":"222"},{"ruleId":"223","replacedBy":"224"},{"ruleId":"221","replacedBy":"225"},{"ruleId":"223","replacedBy":"226"},{"ruleId":"227","severity":1,"message":"228","line":2,"column":22,"nodeType":"229","messageId":"230","endLine":2,"endColumn":26},{"ruleId":"227","severity":1,"message":"228","line":2,"column":10,"nodeType":"229","messageId":"230","endLine":2,"endColumn":14},{"ruleId":"227","severity":1,"message":"231","line":5,"column":8,"nodeType":"229","messageId":"230","endLine":5,"endColumn":13},{"ruleId":"227","severity":1,"message":"232","line":21,"column":9,"nodeType":"229","messageId":"230","endLine":21,"endColumn":14},{"ruleId":"221","replacedBy":"233"},{"ruleId":"223","replacedBy":"234"},{"ruleId":"227","severity":1,"message":"235","line":9,"column":7,"nodeType":"229","messageId":"230","endLine":9,"endColumn":20},{"ruleId":"227","severity":1,"message":"236","line":7,"column":16,"nodeType":"229","messageId":"230","endLine":7,"endColumn":22},{"ruleId":"237","severity":1,"message":"238","line":23,"column":6,"nodeType":"239","endLine":23,"endColumn":19,"suggestions":"240"},{"ruleId":"241","severity":1,"message":"242","line":35,"column":5,"nodeType":"243","messageId":"244","endLine":35,"endColumn":17},{"ruleId":"227","severity":1,"message":"228","line":2,"column":10,"nodeType":"229","messageId":"230","endLine":2,"endColumn":14},{"ruleId":"227","severity":1,"message":"245","line":3,"column":8,"nodeType":"229","messageId":"230","endLine":3,"endColumn":19},{"ruleId":"227","severity":1,"message":"246","line":5,"column":8,"nodeType":"229","messageId":"230","endLine":5,"endColumn":11},{"ruleId":"227","severity":1,"message":"247","line":21,"column":10,"nodeType":"229","messageId":"230","endLine":21,"endColumn":21},{"ruleId":"227","severity":1,"message":"248","line":21,"column":23,"nodeType":"229","messageId":"230","endLine":21,"endColumn":37},{"ruleId":"237","severity":1,"message":"249","line":43,"column":6,"nodeType":"239","endLine":43,"endColumn":26,"suggestions":"250"},{"ruleId":"227","severity":1,"message":"251","line":1,"column":10,"nodeType":"229","messageId":"230","endLine":1,"endColumn":18},{"ruleId":"227","severity":1,"message":"252","line":29,"column":13,"nodeType":"229","messageId":"230","endLine":29,"endColumn":16},{"ruleId":"227","severity":1,"message":"236","line":4,"column":8,"nodeType":"229","messageId":"230","endLine":4,"endColumn":14},{"ruleId":"237","severity":1,"message":"253","line":23,"column":6,"nodeType":"239","endLine":23,"endColumn":8,"suggestions":"254"},{"ruleId":"227","severity":1,"message":"255","line":3,"column":8,"nodeType":"229","messageId":"230","endLine":3,"endColumn":19},{"ruleId":"227","severity":1,"message":"256","line":15,"column":17,"nodeType":"229","messageId":"230","endLine":15,"endColumn":25},{"ruleId":"227","severity":1,"message":"257","line":18,"column":7,"nodeType":"229","messageId":"230","endLine":18,"endColumn":14},{"ruleId":"227","severity":1,"message":"228","line":2,"column":10,"nodeType":"229","messageId":"230","endLine":2,"endColumn":14},{"ruleId":"227","severity":1,"message":"258","line":7,"column":10,"nodeType":"229","messageId":"230","endLine":7,"endColumn":19},{"ruleId":"227","severity":1,"message":"259","line":14,"column":9,"nodeType":"229","messageId":"230","endLine":14,"endColumn":13},{"ruleId":"227","severity":1,"message":"260","line":27,"column":13,"nodeType":"229","messageId":"230","endLine":27,"endColumn":19},"no-native-reassign",["261"],"no-negated-in-lhs",["262"],["261"],["262"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Login' is defined but never used.","'login' is assigned a value but never used.",["261"],["262"],"'getAuthHeader' is assigned a value but never used.","'Button' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'isLoading'. Either include it or remove the dependency array.","ArrayExpression",["263"],"no-unreachable","Unreachable code.","ReturnStatement","unreachableCode","'ItemContext' is defined but never used.","'map' is defined but never used.","'firstRender' is assigned a value but never used.","'setFirstRender' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'activeField' and 'listCfg'. Either include them or remove the dependency array. You can also do a functional update 'setListCfg(l => ...)' if you only need 'listCfg' in the 'setListCfg' call.",["264"],"'useState' is defined but never used.","'res' is assigned a value but never used.","React Hook useEffect has a missing dependency: '_id'. Either include it or remove the dependency array.",["265"],"'UserContext' is defined but never used.","'setStage' is assigned a value but never used.","'history' is assigned a value but never used.","'decodeJWT' is defined but never used.","'User' is assigned a value but never used.","'params' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"266","fix":"267"},{"desc":"268","fix":"269"},{"desc":"270","fix":"271"},"Update the dependencies array to be: [isLoading, showSpinner]",{"range":"272","text":"273"},"Update the dependencies array to be: [tab, dir, currUser, activeField, listCfg]",{"range":"274","text":"275"},"Update the dependencies array to be: [_id]",{"range":"276","text":"277"},[509,522],"[isLoading, showSpinner]",[1258,1278],"[tab, dir, currUser, activeField, listCfg]",[526,528],"[_id]"]